<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Estate Help Desk</title>
    <meta content="" name="description" />
    <meta content="" name="keywords" />

    <link href="assets/img/favicon.png" rel="icon" />
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon" />
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link rel="stylesheet" href="../assets/css/style.css" />
  </head>
  <body>
    <!-- Toggle Button -->
    <i class="bi bi-list mobile-nav-toggle d-block d-md-none"></i>

    <!--  Header  -->
    <header id="header">
      <div class="d-flex flex-column">
        <div class="profile">
          <img src="../assets/img/logo.png" alt="No Logo" class="img-fluid" />
        </div>
        <nav id="navbar" class="nav-menu navbar">
          <ul>
            <li>
              <a href="Dashboard.html" class="nav-link scrollto"
                ><i class="fas fa-home"></i> <span>DashBoard</span></a
              >
            </li>
            <li>
              <a href="viewDoctor.html" class="nav-link scrollto active"
                ><i class="fas fa-user-md"></i> <span>Issue List</span></a
              >
            </li>
            <li>
              <a href="viewHospital.html" class="nav-link scrollto"
                ><i class="fas fa-hospital"></i>
                <span>Equipment Records</span></a
              >
            </li>
            <li>
              <a href="viewDirector.html" class="nav-link scrollto"
                ><i class="fas fa-user-circle"></i> <span>Feedback</span></a
              >
            </li>
            <li>
              <a href="viewAdm.html" class="nav-link scrollto"
                ><i class="fas fa-user"></i> <span>Users</span></a
              >
            </li>
            <li>
              <form method="POST" action="logout.html">
                <a
                  href="#"
                  class="nav-link scrollto"
                  onclick="event.preventDefault(); this.closest('form').submit();"
                >
                  <i class="fas fa-sign-out-alt"></i><span>Log Out</span>
                </a>
              </form>
            </li>
          </ul>
        </nav>
      </div>
    </header>

    <!--  Content Part  -->
    <main id="main">
      <section id="hero" class="about">
        <div class="container text-left">
          <div class="row d-flex align-items-end justify-content-end">
            <div class="col-auto d-flex align-items-end">
              <div class="search-container">
                <div class="dropdown">
                  <button
                    class="btn btn-secondary dropdown-toggle d-flex align-items-center"
                    type="button"
                    id="filterButton"
                    data-bs-toggle="dropdown"
                    aria-expanded="false"
                  >
                    <i class="bi bi-funnel"></i> Filter
                  </button>
                  <ul class="dropdown-menu" aria-labelledby="filterButton">
                    <li><a class="dropdown-item" href="#">Pending</a></li>
                    <li><a class="dropdown-item" href="#">Close</a></li>
                  </ul>
                </div>
              </div>
              <button type="button" class="btn btn d-flex align-items-center">
                <i class="bi bi-plus mx-2"></i>
                <span class="me-2">Add Equipment</span>
              </button>
            </div>
          </div>

          <div class="Recent-issue">
            <h6 style="font-weight: 800">Issue List</h6>
            <div id="student-movement-log"></div>
          </div>
          <div class="download">
            <button
              type="button"
              class="btn btn d-flex align-items-center px-4"
            >
              <span class="me-2">Download the issue report</span>
            </button>
          </div>
        </div>
      </section>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../assets/js/main.js"></script>
    <script>
      const movements = [
        {
          name: "Jigme Dema",
          membertype: "Plumbing",
          category: "Plumbing",
          status: "Pending",
          date: "2025-03-10 08:30",
        },
        {
          name: "Kuenga Wangmo ",
          membertype: "Student",
          category: "Cleaning",
          status: "Pending",
          date: "2025-03-10 12:45",
        },
        {
          name: "Pema yangzom",
          membertype: "Student",
          category: "Plumbing",
          status: "Pending",
          date: "2025-03-11 09:15",
        },
        {
          name: "Jigme Wangmo",
          membertype: "Staff",
          category: "Carpentary",
          status: "Pending",
          date: "2025-03-11 17:00",
        },
        {
          name: "Sonam Wangmo",
          membertype: "Staff",
          category: "Plumbing",
          status: "Pending",
          date: "2025-03-12 08:00",
        },
      ];

      const container = document.getElementById("student-movement-log");
      let lastDate = "";

      movements.forEach((movement) => {
        const [movementDate, movementTime] = movement.date.split(" ");

        if (movementDate !== lastDate) {
          const dateSeparator = document.createElement("div");
          dateSeparator.className = "date-separator";
          dateSeparator.innerHTML = `<span class="date-container">${movementDate}</span>`;
          container.appendChild(dateSeparator);
          lastDate = movementDate;
        }

        const item = document.createElement("div");
        item.className = "movement-item";
        item.innerHTML = `
            <div class="col-1 text-center"><i class="fas fa-user" style="color: grey;font-size:18px;"></i></div>
            <div class="col-3 text-center">${movement.name}</div>
            <div class="col-2 text-center">${movement.membertype}</div>
            <div class="col-2 text-center">${movement.category}</div>
            <div class="col-3 text-end">
            <span style="background-color: green; color: white; padding: 5px 15px 7px 15px; border-radius: 100px;font-size:14px">
            ${movement.status}
            </span>
        </div>
            `;
        container.appendChild(item);
      });
    </script>
  </body>
</html>
